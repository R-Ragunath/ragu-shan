<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Love Quiz üíú</title>

    <style>
        * {
            box-sizing: border-box;
            font-family: Arial, sans-serif
        }

        body {
            margin: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #6f79ff, #8a6cff);
            overflow-x: hidden;
        }

        .container {
            width: 350px
        }

        .score-bar {
            background: #eee;
            padding: 10px;
            text-align: center;
            border-radius: 12px;
            margin-bottom: 15px;
            font-weight: bold
        }

        .card {
            background: #fff;
            padding: 25px;
            border-radius: 18px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, .2);
            text-align: center;
            position: relative;
            transition: .6s
        }

        .question {
            font-size: 18px;
            margin-bottom: 20px
        }

        .option {
            width: 100%;
            padding: 12px;
            margin: 8px 0;
            border-radius: 10px;
            border: 2px solid #ddd;
            cursor: pointer;
            transition: .3s;
            font-size: 14px
        }

        .option.selected {
            background: #6f79ff;
            color: #fff;
            border-color: #6f79ff
        }

        .option.wrong {
            background: #ff4d4d;
            color: #fff;
            border-color: #ff4d4d
        }

        .message {
            margin-top: 10px;
            font-weight: bold;
            height: 24px
        }

        .heart,
        .angry {
            position: absolute;
            top: 40%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            font-size: 70px;
            opacity: 0;
            transition: .3s
        }

        .show {
            transform: translate(-50%, -50%) scale(1.4);
            opacity: 1
        }

        .shake-screen {
            animation: screenShake .4s
        }

        @keyframes screenShake {
            0% {
                transform: translate(0)
            }

            25% {
                transform: translate(-10px, 5px)
            }

            50% {
                transform: translate(10px, -5px)
            }

            75% {
                transform: translate(-10px, -5px)
            }

            100% {
                transform: translate(0)
            }
        }

        .buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px
        }

        .yes-btn,
        .no-btn {
            width: 45%;
            padding: 12px;
            border-radius: 12px;
            border: none;
            font-size: 16px;
            cursor: pointer
        }

        .yes-btn {
            background: #32cd32;
            color: #fff
        }

        .no-btn {
            background: #ff3b30;
            color: #fff
        }

        .popup {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: #111;
            color: red;
            padding: 20px;
            border-radius: 15px;
            width: 90%;
            transition: .3s
        }

        .popup.show {
            transform: translate(-50%, -50%) scale(1)
        }

        .loading-container {
            width: 80%;
            height: 15px;
            background: #ffe6f2;
            border-radius: 20px;
            margin: 20px auto;
            overflow: hidden
        }

        .loading-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #ff4e9b, #ff85c1, #ff4e9b);
            background-size: 200% 100%;
            animation: moveGradient 4s linear infinite
        }

        @keyframes moveGradient {
            0% {
                background-position: 0% 0%
            }

            100% {
                background-position: 200% 0%
            }
        }

        #balloons {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center
        }

        .balloon {
            font-size: 100px;
            cursor: pointer;
            transition: .3s
        }

        .balloon:hover {
            transform: scale(1.2)
        }

        #imageGallery {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin-top: 15px
        }

        .memoryImage {
            width: 140px;
            border-radius: 20px;
            animation: fadeIn .6s
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(.8)
            }

            to {
                opacity: 1;
                transform: scale(1)
            }
        }

        .loveLetter {
            background: #ffe6f2;
            padding: 25px;
            border-radius: 20px
        }

        .big-heart {
            font-size: 130px;
            animation: pulse 1s infinite;
            cursor: pointer
        }

        @keyframes pulse {
            0% {
                transform: scale(1)
            }

            50% {
                transform: scale(1.3)
            }

            100% {
                transform: scale(1)
            }
        }

        .floating-heart {
            position: fixed;
            color: #ff1493;
            animation: floatUp 6s linear infinite;
            pointer-events: none
        }

        @keyframes floatUp {
            0% {
                transform: translateY(100vh);
                opacity: 1
            }

            100% {
                transform: translateY(-10vh);
                opacity: 0
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="score-bar" id="score">Love Quiz üíñ Score: 0</div>
        <div class="card" id="card">
            <div class="question" id="question"></div>
            <div id="options"></div>
            <div class="message" id="message"></div>
            <div class="heart" id="heart">‚ù§Ô∏è</div>
            <div class="angry" id="angry">üò°</div>
        </div>
    </div>

    <script>
        const images = [
            "assets/pic1.jpeg",
            "assets/pic2.jpeg",
            "assets/pic3.jpeg",
            "assets/pic4.jpeg",
            "assets/pic5.jpeg",
            "assets/pic1a.jpeg",
            "assets/pic2a.jpeg"
        ];

        const videoPath = "assets/myvideo.mp4";
        let girlfriendName = "Dr.A.Shanmathi üíÉ" || "";

        const cuteMessages = [
            "Awww ü•∞ You know me so well!",
            "Correct! üíñ That‚Äôs why I love you!",
            "Yayyy ‚ù§Ô∏è My smart baby!",
            "See? We‚Äôre meant to be üòå‚ú®",
            "Perfect answer üòç Just like you!",
            "That‚Äôs my girl üòò",
            "Telepathy level: 100% üß†üíû",
            "Soulmate detected üíï",
            "My heart just did a happy dance üíÉ‚ù§Ô∏è",
            "Certified Love Expert üèÜüíñ"
        ];

        const noMessages = [
            "Nice try üòå but my heart already booked you üíñ",
            "No is not available right now ‚ùå Try Yes üòò",
            "Oops üòè wrong button‚Ä¶ destiny says YES üíò",
            "Error 404: No button not working ü§≠",
            "Haha üòù Too late, We already married ‚ù§Ô∏è",
            "Invalid choice üòå Try again, my love üíû",
            "Haha üòú funny! Now click YES üíï",
            "No button is just for decoration üòè‚ú®",
            "Nice joke üòò I‚Äôll wait for YES üíç",
            "Cute try üòò But you‚Äôre stuck with me ‚ù§Ô∏è"
        ];

        const angryMessages = [
            "Excuse me?! üò§ That was wrong but I still love you.",
            "WRONG üò° ‚Ä¶but you're still my favorite human üòå",
            "How dare you?! üí¢ I expected better from you üò§",
            "That hurt my little heart üíî but okayyy‚Ä¶",
            "Hmmmm suspicious answer ü§® explain yourself!",
            "Wrong answer detected üö® 100 kiss as a punishment üò§",
            "You forgot this?! I need compensation in Kisssss üò°",
            "Incorrect! Go sit in the cute corner üò§üíñ",
            "That‚Äôs wrong‚Ä¶ I need compensation in hugs üòå",
            "My disappointment is small‚Ä¶ but dramatic üò§‚ú®"
        ];

        const loveNotes = [
            "From the first day I saw you, something felt different üíñ",
            "Your smile is my favorite notification üòå‚ú®",
            "Every moment with you feels like a dream I never want to wake up from üíï",
            "You are my peace, my chaos, my everything ‚ù§Ô∏è",
            "No matter what happens, I choose you. Always. üíç"
        ];
        const quiz = [
            {
                question: "What is my favorite thing about you? üíñ",
                options: ["Your smile üòä", "Your anger üò°üî•", "Your eyes üëÄ‚ú®", "Everything about you ü•∞"],
                answer: 3
            },
            {
                question: "Who fell first? üòåüíò",
                options: ["You üòù", "Me üôà", "Both at same time ü§≠", "Still loading... ‚è≥"],
                answer: 1
            },
            {
                question: "If we were animals, what would we be? üêæ",
                options: ["Two cats üê±üê±", "Lion & lioness ü¶Åüëë", "Tom & Jerry üê≠", "Cute pandas üêºüíû"],
                answer: 2
            },
            {
                question: "What makes me miss you the most? üíå",
                options: ["Your voice üé∂", "Your messages üì±üí¨", "Your hugs ü§ó", "Everything ü•∫‚ù§Ô∏è"],
                answer: 3
            },
            {
                question: "What is my weakness? üòè",
                options: ["Tea ‚òï", "Sleep üò¥", "You üíï", "Mobile phone üì±"],
                answer: 2
            },
            {
                question: "How much do I love you? ‚ù§Ô∏è",
                options: ["A little ü§è", "Medium üòÑ", "Infinity ‚ôæÔ∏è‚ú®", "Google can't calculate üåçüíò"],
                answer: 3
            },
            {
                question: "What is our vibe? ‚ú®",
                options: ["Chaotic üòú", "Romantic üåπ", "Cute & Crazy ü§™üíñ", "Perfect üíë‚ú®"],
                answer: 3
            },
            {
                question: "When did I first propose to you? üíç",
                options: ["Dec 20 üéÑ", "Dec 22 üíñ", "Dec 23 üéâ", "I don't remember üëëüòÖ"],
                answer: 1
            },
            {
                question: "What is the gift that I bought on our first meet? üéÅ",
                options: ["Teddy üß∏", "Chocolates üç´", "Flowers üåπ", "I don't remember üëëüòú"],
                answer: 2
            },
            {
                question: "Our favorite thing to do? üíï",
                options: ["Travel üåç‚úàÔ∏è", "Movies üé¨üçø", "Talk all night üåôüìû", "Everything together üë´üíû"],
                answer: 3
            },
            {
                question: "What are you to me? üíì",
                options: ["Friend ü§ù", "Bestie üòé", "Wife üíñüëë", "Lover üòò"],
                answer: 2
            },
            {
                question: "Will you be my forever Valentine? üíò",
                options: ["Yes üòä", "Obviously yes üòå", "Forever yes ‚ôæÔ∏èüíû", "YESSSSSS ‚ù§Ô∏èüî•"],
                answer: 3
            }
        ];


        let current = 0, score = 0, balloonsPopped = 0;
        const qEl = document.getElementById("question");
        const optEl = document.getElementById("options");
        const msg = document.getElementById("message");
        const heart = document.getElementById("heart");
        const angry = document.getElementById("angry");
        const card = document.getElementById("card");
        const scoreEl = document.getElementById("score");

        function loadQuestion() {
            const q = quiz[current];
            qEl.textContent = q.question;
            optEl.innerHTML = ""; msg.textContent = "";
            q.options.forEach((opt, i) => {
                const btn = document.createElement("button");
                btn.className = "option";
                btn.textContent = opt;
                btn.onclick = () => selectAnswer(i, btn);
                optEl.appendChild(btn);
            });
        }

        function selectAnswer(i, btn) {
            const correct = quiz[current].answer;
            document.querySelectorAll(".option").forEach(b => b.disabled = true);

            if (i === correct) {
                score++; btn.classList.add("selected");
                heart.classList.add("show");
                setTimeout(() => heart.classList.remove("show"), 800);
                const randomMessage = cuteMessages[Math.floor(Math.random() * cuteMessages.length)];
                msg.textContent = randomMessage;
                msg.style.color = "green";
            } else {
                btn.classList.add("wrong");
                angry.classList.add("show");
                document.body.classList.add("shake-screen");
                setTimeout(() => {
                    angry.classList.remove("show");
                    document.body.classList.remove("shake-screen");
                }, 1000);
                const randomAngry = angryMessages[Math.floor(Math.random() * angryMessages.length)];
                msg.textContent = randomAngry;
                msg.style.color = "red";
            }
            scoreEl.textContent = `Love Quiz üíñ Score: ${score}/${quiz.length}`;
            setTimeout(() => {
                current++;
                current < quiz.length ? loadQuestion() : showFinalScore();
            }, 2500);
        }

        function showValentine() {
            card.innerHTML = `
<h2>Will you be my Valentine? üíò</h2>
<div class="buttons">
<button class="yes-btn" onclick="yesClicked()">Yes ‚ù§Ô∏è</button>
<button class="no-btn" onclick="noClicked()">No</button>
</div>
<div class="popup" id="popup"></div>
`;
        }



        function yesClicked() {
            card.innerHTML = `
<h2>Yayyyy!! I Love you Shan üíñ</h2>
<div class="big-heart">‚ù§Ô∏è</div>
<p>Thank you Darling üíÉ‚ù§Ô∏èüíñ</p>
<p>You are officially my Valentine!</p>
<p>Preparing your surprise...</p>
<div class="loading-container">
<div class="loading-bar" id="bar"></div>
</div>`;
            startLoading(); startHearts();
        }
        function noClicked() {
            const popup = document.getElementById("popup");

            if (!popup) return;

            const messages = [
                "Nice try üòå but my heart already booked you üíñ",
                "No is not available right now ‚ùå Try Yes üòò",
                "Oops üòè wrong button‚Ä¶ destiny says YES üíò",
                "Error 404 ‚ùå No not found. Only LOVE ‚ù§Ô∏è",
                "You can‚Äôt escape me that easily üò§üíñ",
                "Haha üòú funny! Now click YES üíï",
                "System override üíªüíñ You belong with me",
                "No button is just for decoration üòè‚ú®",
                "Nice joke üòò I‚Äôll wait for YES üíç",
                "Error 404: No button not working ü§≠",
                "Haha üòù Too late, We already married ‚ù§Ô∏è",
                "Invalid choice üòå Try again, my love üíû",
                "Cute try üòò But you‚Äôre stuck with me ‚ù§Ô∏è"
            ];

            const randomIndex = Math.floor(Math.random() * messages.length);
            popup.textContent = "‚ùå " + messages[randomIndex];

            popup.classList.add("show");

            setTimeout(() => {
                popup.classList.remove("show");
            }, 3000);
        }



        function startLoading() {
            let p = 0;
            const bar = document.getElementById("bar");
            const i = setInterval(() => {
                p += 1;   // smaller increment
                bar.style.width = p + "%";

                if (p >= 100) {
                    clearInterval(i);
                    showBalloons();
                }
            }, 80);   // smoother timing
        }


        /* ---------------- BALLOONS ---------------- */

        function showBalloons() {
            balloonsPopped = 0;
            card.innerHTML = `
        <h2>üéà Pop the Balloons üéà</h2>
        <div id="balloons"></div>
        <div id="imageGallery"></div>
        <div id="afterBalloons"></div>
    `;

            const b = document.getElementById("balloons");

            images.forEach(img => {
                const span = document.createElement("span");
                span.className = "balloon";
                span.textContent = "üéà";
                span.onclick = () => popBalloon(span, img);
                b.appendChild(span);
            });
        }
        function popBalloon(el, img) {
            el.textContent = "üí•";
            el.onclick = null;

            const image = document.createElement("img");
            image.src = img;
            image.className = "memoryImage";
            document.getElementById("imageGallery").appendChild(image);

            balloonsPopped++;

            if (balloonsPopped === images.length) {
                setTimeout(showLoveLetter, 1000);
            }
        }

        /* ---------------- LOVE LETTER ---------------- */

        function showLoveLetter() {
            card.innerHTML = `
        <div class="loveLetter">
            <h2 id="nameAnimation"></h2>
            <p id="typedText"></p>
            <div class="big-heart" onclick="sparkleHeart();playVideo()">‚ù§Ô∏è</div>
            <p>Pop the heart for your surprise üé•</p>
            <div id="videoContainer"></div>
        </div>
    `;
            animateName(typeLoveLetter);

            //animateName();
            //typeLoveLetter();
        }

        /* ---------------- NAME ANIMATION ---------------- */

        function animateName(callback) {
            const el = document.getElementById("nameAnimation");
            el.textContent = "";   // reset
            let text = "üíñTo My Love üíñ , " + girlfriendName + "üëë";
            let i = 0;

            const interval = setInterval(() => {
                el.textContent += text[i];
                i++;

                if (i >= text.length) {
                    clearInterval(interval);

                    // small romantic pause before letter starts
                    setTimeout(() => {
                        if (callback) callback();
                    }, 500);
                }

            }, 80);
        }


        /* ---------------- TYPING EFFECT ---------------- */

        function typeLoveLetter() {
            const text = "Hey Pondatti!!! Life has become more Beautiful Since the Day You've entered my life, everything changed, Every laugh, every smile, every little moment with you is my favorite memory. üíï I choose you always. üíñ You are my happiness, my peace, my forever. ‚ù§Ô∏è Happy Valentine's Day Ammu !!!  I LOVE YOU SOFI!!!üíñüíñüíñ";
            const el = document.getElementById("typedText");
            el.textContent = "";
            let i = 0;

            const interval = setInterval(() => {
                el.textContent += text[i];
                i++;
                if (i >= text.length) clearInterval(interval);
            }, 80);
        }

        /* ---------------- SPARKLE HEART ---------------- */

        function sparkleHeart() {
            for (let i = 0; i < 20; i++) {
                const star = document.createElement("div");
                star.textContent = "‚ú®";
                star.style.position = "fixed";
                star.style.left = (window.innerWidth / 2) + "px";
                star.style.top = (window.innerHeight / 2) + "px";
                star.style.fontSize = "20px";
                star.style.animation = "spark 1s ease-out forwards";
                document.body.appendChild(star);
                setTimeout(() => star.remove(), 1000);
            }
        }

        /*function noClicked() {
            document.getElementById("popup").classList.add("show");
            setTimeout(() => document.getElementById("popup").classList.remove("show"), 2000);
        }*/

        function startHearts() {
            setInterval(() => {
                const h = document.createElement("div");
                h.className = "floating-heart";
                h.innerHTML = "üíñ";
                h.style.left = Math.random() * 100 + "vw";
                h.style.fontSize = (20 + Math.random() * 40) + "px";
                document.body.appendChild(h);
                setTimeout(() => h.remove(), 6000);
            }, 200);
        }

        loadQuestion();

        function showFinalScore() {
            let percentage = (score / quiz.length) * 100;
            let message;

            if (percentage >= 80) {
                message = "You passed the Love Test with flying colors üíñ‚ú®";
            } else if (percentage >= 50) {
                message = "Not bad‚Ä¶ but I expect improvement üòåüíï";
            } else {
                message = "Even if you fail‚Ä¶ you still own my heart üòò‚ù§Ô∏è";
            }

            card.innerHTML = `
        <h2>${message}</h2>
        <h3>Final Score: ${score}/${quiz.length}</h3>
        <p>Get ready for your surprise in...</p>
        <h1 id="countdown">10</h1>
    `;

            startCountdown();
        }

        /* ---------------- COUNTDOWN ---------------- */

        function startCountdown() {
            let count = 10;
            const el = document.getElementById("countdown");

            const interval = setInterval(() => {
                count--;
                el.textContent = count;
                if (count === 0) {
                    clearInterval(interval);
                    showValentine();
                }
            }, 1000);
        }

        function playVideo() {
            document.getElementById("videoContainer").innerHTML = `
        <video width="100%" autoplay controls>
            <source src="${videoPath}" type="video/mp4">
        </video>
    `;
        }
    </script>
</body>

</html>